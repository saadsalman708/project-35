<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>JS Quiz â€” Chapters 40 to 60 (Complete)</title>
    <style>
        :root {
            /* --bg-dark: #071127; */
            --bg-dark: #12295a;
            --card-dark: #071827;
            --muted-dark: #9fb3cc;
            --accent: #0ea5e9;
            --text-dark: #e6eef8;
            --ok: #16a34a;
            --bad: #ef4444;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, "Helvetica Neue", Arial;
            -webkit-font-smoothing: antialiased;
        }

        .app {
            max-width: 1100px;
            margin: 20px auto;
            padding: 18px;
            transition: background-color .25s, color .25s;
        }

        header {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 14px;
            flex-wrap: wrap;
        }

        h1 {
            font-size: 20px;
            margin: 0;
        }

        .controls {
            margin-left: auto;
            display: flex;
            gap: 8px;
            align-items: center;
            flex-wrap: wrap;
        }

        select,
        button {
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: all 0.2s;
        }

        button.icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 10px;
        }

        button.icon:hover {
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
            border-color: var(--accent);
        }

        .card {
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 6px 30px rgba(2, 6, 23, 0.15);
            margin-bottom: 12px;
            transition: background-color .25s, color .25s;
            border: 1px solid rgba(0, 0, 0, 0.04);
        }

        .meta {
            font-size: 13px;
            margin-top: 6px;
        }

        .question {
            font-size: 16px;
            margin: 8px 0 12px;
            font-weight: 500;
        }

        .choices {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .choice {
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(172, 172, 172, 0.541);
            cursor: pointer;
            background: transparent;
            text-align: left;
            transition: all 0.2s ease;
        }

        .choice strong {
            display: inline-block;
            width: 28px;
        }

        .choice.correct {
            border-color: rgba(34, 197, 94, 0.4);
            background: linear-gradient(90deg, rgba(34, 197, 94, 0.12), transparent);
        }

        .choice.wrong {
            border-color: rgba(239, 68, 68, 0.4);
            background: linear-gradient(90deg, rgba(239, 68, 68, 0.08), transparent);
        }

        .choice.selected {
            border-color: var(--accent);
            background: linear-gradient(90deg, rgba(14, 165, 233, 0.25), rgba(14, 165, 233, 0.15));
            transform: scale(1.01);
            border-width: 2px;
        }

        .choice:hover:not(:disabled) {
            border-color: var(--accent);
            background: linear-gradient(90deg, rgba(14, 165, 233, 0.08), transparent);
            transform: translateX(4px);
        }

        .choice:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        .actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .hint,
        .explain {
            margin-top: 10px;
            font-size: 13px;
            padding: 10px;
            border-radius: 8px;
        }

        .small {
            font-size: 13px;
        }

        .top-row {
            display: flex;
            gap: 8px;
            align-items: center;
            flex-wrap: wrap;
        }

        footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            margin-top: 12px;
            gap: 8px;
        }

        .progress {
            height: 10px;
            background: rgba(0, 0, 0, 0.06);
            border-radius: 999px;
            overflow: hidden;
            flex: 1;
            margin-left: 12px;
        }

        .progress>i {
            display: block;
            height: 100%;
            background: linear-gradient(90deg, var(--accent), #7dd3fc);
            width: 0%;
            transition: width .2s;
        }

        label.small {
            display: flex;
            flex-direction: column;
            font-size: 12px;
        }

        @media (max-width:720px) {
            .choices {
                grid-template-columns: 1fr;
            }
        }

        body[data-theme="dark"] {
            background: linear-gradient(180deg, var(--bg-dark), #041226);
            color: var(--text-dark);
        }

        body[data-theme="dark"] .card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
            border-color: rgba(255, 255, 255, 0.03);
        }

        body[data-theme="dark"] .meta {
            color: var(--muted-dark);
        }

        body[data-theme="dark"] .hint,
        body[data-theme="dark"] .explain {
            background: rgba(255, 255, 255, 0.02);
            color: var(--muted-dark);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        body[data-theme="dark"] .choice {
            color: #ffffff;
        }

        body[data-theme="dark"] .choice.selected {
            background: linear-gradient(90deg, rgba(14, 165, 233, 0.35), rgba(14, 165, 233, 0.25));
            color: #ffffff;
            border-color: #0ea5e9;
        }

        body[data-theme="dark"] h1,
        body[data-theme="dark"] select,
        body[data-theme="dark"] label {
            color: #ffffff;
        }

        body[data-theme="light"] {
            background: linear-gradient(135deg, #0f2847 0%, #1e3a5f 50%, #2d4a6f 100%);
            color: #e8f2ff;
        }

        body[data-theme="light"] .card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(240, 248, 255, 0.92));
            border-color: rgba(15, 40, 71, 0.15);
            box-shadow: 0 8px 32px rgba(15, 40, 71, 0.25);
            color: #0a2540;
        }

        body[data-theme="light"] .meta {
            color: #4a6fa5;
        }

        body[data-theme="light"] .hint {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            color: #1565c0;
            border: 1px solid rgba(25, 118, 210, 0.2);
        }

        body[data-theme="light"] .explain {
            background: linear-gradient(135deg, #e1f5fe, #b3e5fc);
            color: #01579b;
            border: 1px solid rgba(2, 136, 209, 0.2);
        }

        body[data-theme="light"] .choice {
            border-color: rgba(15, 40, 71, 0.2);
            color: #0a2540;
        }

        body[data-theme="light"] .choice:hover:not(:disabled) {
            background: linear-gradient(90deg, rgba(25, 118, 210, 0.12), transparent);
            border-color: #1976d2;
        }

        body[data-theme="light"] .choice.selected {
            background: linear-gradient(90deg, rgba(25, 118, 210, 0.3), rgba(25, 118, 210, 0.2));
            border-color: #1565c0;
            color: #0d47a1;
            border-width: 2px;
        }

        body[data-theme="light"] .choice.correct {
            border-color: rgba(34, 197, 94, 0.5);
            background: linear-gradient(90deg, rgba(34, 197, 94, 0.15), transparent);
            color: #0a2540;
        }

        body[data-theme="light"] .choice.wrong {
            border-color: rgba(239, 68, 68, 0.5);
            background: linear-gradient(90deg, rgba(239, 68, 68, 0.12), transparent);
            color: #0a2540;
        }

        body[data-theme="light"] button,
        body[data-theme="light"] select {
            color: #0a2540;
        }

        body[data-theme="light"] h1,
        body[data-theme="light"] label {
            color: #ffffff;
        }

        body[data-theme="light"] select {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
        }

        option {
            background-color: #000;
        }

        .chip,
        .lightBtn {
            color: #ffffff;
            padding: 6px 8px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 13px;
            background: rgba(255, 255, 255, 0.05);
        }

        .chip:hover,
        .lightBtn:hover {
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
            border-color: var(--accent);
        }

        body[data-theme="light"] .lightBtn {
            border-color: #000;
        }
    </style>
</head>

<body>
    <div class="app">
        <header>
            <div>
                <h1>Complete JS Quiz â€” Ch 40-60</h1>
                <div class="meta">150+ unique questions (no repeats in one session)</div>
            </div>
            <div class="controls">
                <label class="small">Chapter
                    <select id="chapterSelect">
                        <option value="all">All Chapters (40â€“60)</option>
                    </select>
                </label>
                <label class="small">Mode
                    <select id="modeSelect">
                        <option value="sequential">Sequential</option>
                        <option value="random">Random</option>
                    </select>
                </label>
                <div style="display:flex;gap:8px;align-items:center">
                    <button id="themeToggle" class="icon" title="Switch theme">ðŸŒ™</button>
                    <button id="startBtn" class="chip startResetBtn" style="color: #fff;">Start / Reset</button>
                </div>
            </div>
        </header>
        <main>
            <div class="card" id="quizCard" aria-live="polite">
                <div class="top-row">
                    <div class="small" id="chapterLabel">Choose chapter & start quiz</div>
                    <div style="margin-left:auto" class="small">Remaining: <span id="remaining">0</span></div>
                </div>
                <div id="questionArea" style="display:none">
                    <div class="question" id="qText"></div>
                    <div class="choices" id="choices"></div>
                    <div class="actions">
                        <button id="submitBtn" class="lightBtn">Submit</button>
                        <button id="nextBtn" class="lightBtn" style="display:none">Next</button>
                        <button id="toggleHintBtn" class="lightBtn">Show hint</button>
                        <div style="margin-left:auto" class="small">Score: <strong id="score">0</strong> / <span
                                id="answered">0</span></div>
                    </div>
                    <div id="hintBox" class="hint" style="display:none"></div>
                    <div id="explainBox" class="explain" style="display:none"></div>
                    <footer>
                        <div class="small" id="qIndex">0 / 0</div>
                        <div class="progress" title="progress"><i id="progInner"></i></div>
                    </footer>
                </div>
                <div id="landing" style="padding:18px 0">
                    <p class="small">Complete question bank with NO REPEATS in a single session. Each chapter has 5-25
                        questions based on complexity. All questions are unique and will only appear once per quiz
                        session.</p>
                </div>
            </div>
        </main>
    </div>
    <script>
        // Complete question bank - NO DUPLICATES
        const allQuestions = [
            // Chapter 40 - switch statements (5 questions)
            { id: '40-1', chapter: 40, q: 'In a switch statement, why do most case clauses end with a break statement?', choices: ['To exit the entire function immediately', 'To prevent fall-through and stop executing subsequent cases', 'To reset all variables used inside the switch', 'Because break is required after every statement in JS'], answer: 1, hint: 'Think what happens after a matching case executes if you omit break.', explain: 'Without break, execution continues into subsequent cases (fall-through). Using break stops the switch block after the matched case.' },
            { id: '40-2', chapter: 40, q: 'Which clause acts like an else in an if...else chain inside a switch?', choices: ['case else', 'fallback', 'default', 'catch'], answer: 2, hint: 'It runs when no case matches.', explain: 'default executes when no case matches; it is analogous to else in an if...else statement.' },
            { id: '40-3', chapter: 40, q: 'Given: switch(x) with case 1, case 2, and default, which functions run if x equals 1?', choices: ['a() only', 'a() then b() then c()', 'a() then b()', 'b() then c()'], answer: 1, hint: 'There are no break statements here.', explain: 'With no breaks, JavaScript falls through: a(), b(), and c() all run.' },
            { id: '40-4', chapter: 40, q: 'What follows the case keyword in a switch statement?', choices: ['A condition to test', 'A value followed by a colon', 'A function call', 'A boolean expression'], answer: 1, hint: 'It is not a condition but a specific value.', explain: 'Each case is followed by a value and a colon, like: case "Sat" :' },
            { id: '40-5', chapter: 40, q: 'Is a break statement required after the default clause?', choices: ['Yes, always', 'No, because it comes last', 'Only if there are more cases below', 'Only in strict mode'], answer: 1, hint: 'Consider the position of default.', explain: 'Since default typically comes last, there are no statements below it to execute inappropriately, so break is optional.' },

            // Chapter 41 - while loops (5 questions)
            { id: '41-1', chapter: 41, q: 'Which of these is a key difference between for and while loops?', choices: ['for loops cannot use break', 'while loops check the condition before running the block', 'while loops always run at least once', 'for loops only iterate arrays'], answer: 1, hint: 'Think about entry vs pre-test vs post-test.', explain: 'While loops evaluate the condition before the first iteration; if it is false initially, the block never runs.' },
            { id: '41-2', chapter: 41, q: 'Convert: for(var i=0;i<3;i++) to while loop - which is equivalent?', choices: ['var i=0; while(i<3){ doStuff(); i++; }', 'while(var i=0;i<3){doStuff();}', 'var i=0; do { doStuff(); i++; } while(i<3);', 'var i=0; while(i++<3) doStuff();'], answer: 0, hint: 'Initialize before loop, update inside.', explain: 'Set i before the loop, check condition each time, increment in body.' },
            { id: '41-3', chapter: 41, q: 'What happens if you forget to increment the counter in a while loop that depends on it?', choices: ['Loop ends immediately', 'Infinite loop (unless broken)', 'Counter magically increments', 'The browser throws a syntax error'], answer: 1, hint: 'If condition never changes and stays true...', explain: 'If the condition remains true and there is no break, the loop runs forever (infinite loop), freezing execution.' },
            { id: '41-4', chapter: 41, q: 'Where is the loop counter typically initialized in a while loop?', choices: ['Inside the parentheses', 'Before the while statement', 'Inside the loop body', 'After the closing brace'], answer: 1, hint: 'It must exist before the loop starts.', explain: 'The counter is declared and initialized before the while statement begins.' },
            { id: '41-5', chapter: 41, q: 'In a while loop, where do you typically update the counter?', choices: ['In the condition parentheses', 'Before the loop', 'Inside the loop body', 'After the loop ends'], answer: 2, hint: 'It needs to change each iteration.', explain: 'The counter is updated inside the loop body, typically as the last statement.' },

            // Chapter 42 - do...while loops (5 questions)
            { id: '42-1', chapter: 42, q: 'Which loop guarantees its body runs at least once?', choices: ['for', 'while', 'do...while', 'none of them'], answer: 2, hint: 'Post-test loop executes before checking condition.', explain: 'do...while runs the block first, then evaluates the condition at the bottom.' },
            { id: '42-2', chapter: 42, q: 'Complete the syntax: do { ... } _____ (i <= 3);', choices: ['until', 'while', 'end', 'when'], answer: 1, hint: 'Exact keyword spelled two words.', explain: 'Syntax: do { ... } while (condition); â€” note the trailing semicolon.' },
            { id: '42-3', chapter: 42, q: 'If var i=0; do { i++; } while(i<0); how many iterations?', choices: ['0', '1', 'Infinite', '2'], answer: 1, hint: 'Condition false but check after body.', explain: 'do...while runs body once, then checks condition (false), so it stops after one iteration.' },
            { id: '42-4', chapter: 42, q: 'What punctuation follows the while clause in a do...while loop?', choices: ['Nothing', 'A comma', 'A semicolon', 'A colon'], answer: 2, hint: 'It ends the statement.', explain: 'The while clause ends with a semicolon: } while (condition);' },
            { id: '42-5', chapter: 42, q: 'When is the condition in a do...while loop evaluated?', choices: ['Before the first iteration', 'After each iteration', 'Only once at the start', 'Never'], answer: 1, hint: 'It is a post-test loop.', explain: 'The condition is checked after the block executes, making it a post-test loop.' },

            // Chapter 43 - Placing scripts (8 questions)
            { id: '43-1', chapter: 43, q: 'Placing script at end of body vs in head primarily affects:', choices: ['How many functions you can declare', 'When DOM elements are available to script', 'Whether JS is allowed', 'The language version used'], answer: 1, hint: 'Scripts in head may run before DOM exists.', explain: 'Scripts at the end run after HTML is parsed so DOM elements are available; in head they may run before DOM exists.' },
            { id: '43-2', chapter: 43, q: 'Which attributes let an external script load without blocking parsing?', choices: ['async or defer', 'blocking', 'lazyload', 'deferOnly'], answer: 0, hint: 'Two related attributes exist.', explain: 'async and defer change loading: defer preserves order and runs after parsing; async runs when ready (order not guaranteed).' },
            { id: '43-3', chapter: 43, q: 'What is the file extension for external JavaScript files?', choices: ['.javascript', '.js', '.script', '.jscript'], answer: 1, hint: 'Two letter abbreviation.', explain: 'JavaScript files use the .js extension.' },
            { id: '43-4', chapter: 43, q: 'Do external JavaScript files need script tags inside them?', choices: ['Yes, always', 'No, they contain pure JS', 'Only at the top', 'Only for functions'], answer: 1, hint: 'They are pure code files.', explain: 'External .js files contain only JavaScript code without script tags.' },
            { id: '43-5', chapter: 43, q: 'How do you link an external JavaScript file named "main.js"?', choices: ['<script link="main.js">', '<script src="main.js"><script>', '<javascript src="main.js">', '<include file="main.js">'], answer: 1, hint: 'Similar to linking CSS but different tag.', explain: 'Use <script src="filename.js"><script> to include external JavaScript.' },
            { id: '43-6', chapter: 43, q: 'Can you have both embedded and external JavaScript in the same HTML file?', choices: ['No, choose one only', 'Yes, you can have both', 'Only with special browsers', 'Only in the head section'], answer: 1, hint: 'No restriction exists.', explain: 'You can include both external JavaScript files and embedded code in the same HTML file.' },
            { id: '43-7', chapter: 43, q: 'Why is it generally better to place scripts at the end of the body section?', choices: ['It makes code run faster', 'CSS and images load without delay', 'It is required by HTML5', 'Functions work better there'], answer: 1, hint: 'Think about page rendering.', explain: 'Scripts at the end allow CSS styling and images to load first, improving perceived performance.' },
            { id: '43-8', chapter: 43, q: 'Where are all JavaScript functions loaded in memory?', choices: ['Only in the head section', 'Only where they are defined', 'Throughout memory when page loads', 'They are never loaded'], answer: 2, hint: 'Location does not matter for functions.', explain: 'All JavaScript code is loaded into memory when the page loads, regardless of where it appears in the HTML.' },

            // Chapter 44 - Commenting (7 questions)
            { id: '44-1', chapter: 44, q: 'Which of the following is a single-line comment in JavaScript?', choices: ['/* comment */', '<!-- comment -->', '// comment', '# comment'], answer: 2, hint: 'Two forward slashes.', explain: 'Single-line comments use //; block comments use /* ... */.' },
            { id: '44-2', chapter: 44, q: 'How do you create a multi-line comment in JavaScript?', choices: ['// on each line', '/* ... */', '<!-- ... -->', '## ... ##'], answer: 1, hint: 'Similar to CSS comments.', explain: 'Multi-line comments use /* to open and */ to close.' },
            { id: '44-3', chapter: 44, q: 'Can you put code and a comment on the same line?', choices: ['No, never', 'Yes, with // after the code', 'Only with /* */', 'Only in functions'], answer: 1, hint: 'Single-line comments work inline.', explain: 'You can write: var x = 5; // This sets x to 5' },
            { id: '44-4', chapter: 44, q: 'Why might you use comments to "comment out" code?', choices: ['To make it permanent', 'For testing and debugging', 'To make it run faster', 'To save memory'], answer: 1, hint: 'Temporarily disable code.', explain: 'Commenting out code lets you test without deleting it, useful for debugging.' },
            { id: '44-5', chapter: 44, q: 'What happens to commented code when JavaScript runs?', choices: ['It runs slowly', 'It is completely ignored', 'It runs in the background', 'It throws an error'], answer: 1, hint: 'The browser skips it.', explain: 'The JavaScript engine ignores all commented textâ€”it is for humans only.' },
            { id: '44-6', chapter: 44, q: 'Which comment style requires a closing tag?', choices: ['//', '/* */', 'Both', 'Neither'], answer: 1, hint: 'One has an opening and closing.', explain: '/* */ requires both opening and closing; // automatically ends at line break.' },
            { id: '44-7', chapter: 44, q: 'Is it good practice to comment your code?', choices: ['No, it clutters code', 'Yes, especially for complex logic', 'Only for beginners', 'Only for errors'], answer: 1, hint: 'Helps future understanding.', explain: 'Comments help you and others understand your code when revisiting it later.' },

            // Chapter 45 - Events: link (8 questions)

            { id: '45-1', chapter: 45, q: 'Which event fires when a link is clicked?', choices: ['onhover', 'onsubmit', 'onclick', 'onchange'], answer: 2, hint: 'Basic DOM mouse event for clicking.', explain: 'The click event fires when a user activates a link; you can prevent navigation with event.preventDefault().' },

            { id: '45-2', chapter: 45, q: 'What does href="#" do in a link when used with onclick?', choices: ['Goes to homepage', 'Reloads current page and scrolls to top', 'Does nothing visible', 'Opens new tab'], answer: 1, hint: 'The # is an anchor symbol.', explain: 'href="#" reloads the current page and scrolls to top, which is usually undesired.' },

            { id: '45-3', chapter: 45, q: 'What is a better alternative to href="#" for JavaScript-only links?', choices: ['href=""', 'href="javascript:void(0)"', 'href="null"', 'href="javascript:"'], answer: 1, hint: 'Use void(0) to prevent action.', explain: 'href="javascript:void(0)" prevents any navigation or page reload.' },

            { id: '45-4', chapter: 45, q: 'In inline event handling, what quote style must you use inside an already-quoted attribute?', choices: ['Same as outer quotes', 'Opposite of outer quotes', 'No quotes needed', 'Backticks only'], answer: 1, hint: 'Cannot nest same quote types.', explain: 'If outer attribute uses double quotes, inner strings must use single quotes.' },

            { id: '45-5', chapter: 45, q: 'What is the recommended way to trigger JavaScript from a link?', choices: ['Inline onclick with all code', 'Call a function from onclick', 'Put all code in href', 'Use onhover'], answer: 1, hint: 'Functions are more maintainable.', explain: 'Calling a function from onclick is more readable and maintainable than inline code.' },

            { id: '45-6', chapter: 45, q: 'What does "inline event-handling" mean?', choices: ['Events in external files', 'JavaScript mixed with HTML markup', 'Events in CSS', 'Events in the head section'], answer: 1, hint: 'Code directly in HTML tags.', explain: 'Inline event-handling means putting JavaScript directly in HTML attributes like onclick.' },

            { id: '45-7', chapter: 45, q: 'Why do professionals prefer not to use inline event handlers?', choices: ['They do not work', 'Separation of concerns (JS separate from HTML)', 'They are too slow', 'They only work in old browsers'], answer: 1, hint: 'Keep code organized separately.', explain: 'Separating JavaScript from HTML makes code more maintainable and follows best practices.' },

            { id: '45-8', chapter: 45, q: 'Can you execute multiple JavaScript statements in an onclick attribute?', choices: ['No, only one', 'Yes, separated by semicolons', 'Yes, but only two', 'Only with functions'], answer: 1, hint: 'Multiple statements are possible.', explain: 'You can include multiple statements separated by semicolons, but calling a function is cleaner.' },

            // Chapter 46 - Events: button (6 questions)

            { id: '46-1', chapter: 46, q: 'Which event is commonly used to respond to a button press?', choices: ['onscroll', 'onclick', 'oninput', 'onhover'], answer: 1, hint: 'Same as links for clicks.', explain: 'Buttons respond to click events; use addEventListener("click", fn).' },

            { id: '46-2', chapter: 46, q: 'What HTML creates a clickable button?', choices: ['<button>Click</button>', '<input type="button">', 'Both A and B', '<click>'], answer: 2, hint: 'Two ways exist.', explain: 'Both <button> and <input type="button"> create clickable buttons.' },

            { id: '46-3', chapter: 46, q: 'How do you specify the text on an input type="button"?', choices: ['innerHTML', 'text attribute', 'value attribute', 'label attribute'], answer: 2, hint: 'It is a form input property.', explain: 'Use value="Button Text" to set the button label.' },

            { id: '46-4', chapter: 46, q: 'Can an image be used as a clickable button with onclick?', choices: ['No, only button works', 'Yes, with onclick on img', 'Only with special images', 'Only in HTML5'], answer: 1, hint: 'Any element can have onclick.', explain: 'You can add onclick to an img tag to make it clickable.' },

            { id: '46-5', chapter: 46, q: 'What is the difference between onclick for buttons vs links?', choices: ['Completely different syntax', 'Same onclick, different elements', 'Buttons cannot use onclick', 'Links cannot use onclick'], answer: 1, hint: 'The event handler is the same.', explain: 'onclick works the same way on both buttons and links; only the HTML element differs.' },

            { id: '46-6', chapter: 46, q: 'Should button event handlers be wrapped in form tags?', choices: ['Always required', 'Recommended but not required', 'Never allowed', 'Only for submit buttons'], answer: 1, hint: 'Best practice vs strict requirement.', explain: 'While not strictly required for onclick buttons, forms are recommended for semantic HTML.' },

            // Chapter 47 - Events: mouse (10 questions)

            { id: '47-1', chapter: 47, q: 'Which event triggers when the mouse pointer moves over an element?', choices: ['mousemove', 'mouseover', 'mousedrag', 'mousehold'], answer: 1, hint: 'Entering event.', explain: 'mouseover fires when entering; mousemove fires continuously; mouseenter does not bubble.' },

            { id: '47-2', chapter: 47, q: 'What event fires when the mouse leaves an element?', choices: ['mouseleave', 'mouseout', 'Both A and B', 'mouseexit'], answer: 2, hint: 'Two related events exist.', explain: 'Both mouseleave and mouseout fire when leaving; mouseleave does not bubble.' },

            { id: '47-3', chapter: 47, q: 'In the book example, what happens when you mouseover an image?', choices: ['Image deletes', 'Image swaps to "after" picture', 'Image enlarges', 'Nothing'], answer: 1, hint: 'Before and after transformation.', explain: 'The example swaps a "before" picture with an "after" picture on mouseover.' },

            { id: '47-4', chapter: 47, q: 'How do you change an image source on mouseover using inline event handling?', choices: ['onMouseover="src=\'new.jpg\'"', 'onHover="src=\'new.jpg\'"', 'onMouse="src=\'new.jpg\'"', 'onChange="src=\'new.jpg\'"'], answer: 0, hint: 'Use single quotes inside double quotes.', explain: 'onMouseover with src property assignment changes the image source.' },

            { id: '47-5', chapter: 47, q: 'What is the camelCase convention for mouse event attributes?', choices: ['onmouseover', 'onMouseover', 'onMouseOver', 'ONMOUSEOVER'], answer: 1, hint: 'First word lowercase, second word capitalized.', explain: 'The convention is onMouseover with capital M, though case is optional.' },

            { id: '47-6', chapter: 47, q: 'How do you change link color on hover using inline events?', choices: ['onMouseover="color=\'green\'"', 'onMouseover="this.color=\'green\'"', 'onMouseover="this.style.color=\'green\'"', 'onHover="style.color=\'green\'"'], answer: 2, hint: 'Use this.style.property.', explain: 'this.style.color accesses the inline style color property of the element.' },

            { id: '47-7', chapter: 47, q: 'To revert an image when mouse leaves, which event should you use?', choices: ['onMouseleave', 'onMouseout', 'Either A or B', 'onMouseaway'], answer: 2, hint: 'Both work for leaving.', explain: 'Both onMouseout and onMouseleave can revert changes when mouse leaves.' },

            { id: '47-8', chapter: 47, q: 'What does "this" refer to in an inline event handler?', choices: ['The window object', 'The document', 'The element that triggered the event', 'The parent element'], answer: 2, hint: 'Self-reference keyword.', explain: 'In inline handlers, "this" refers to the element where the event occurred.' },

            { id: '47-9', chapter: 47, q: 'Can you call a function on mouseover instead of inline code?', choices: ['No, only inline code works', 'Yes, onMouseover="functionName()"', 'Only with jQuery', 'Only in modern browsers'], answer: 1, hint: 'Functions are preferred.', explain: 'You can call a function: onMouseover="expand()" is cleaner than inline code.' },

            { id: '47-10', chapter: 47, q: 'Which is better practice: inline event handlers or addEventListener?', choices: ['Inline handlers', 'addEventListener', 'Both are equal', 'Neither, use jQuery'], answer: 1, hint: 'Separation of concerns.', explain: 'addEventListener separates JavaScript from HTML, following best practices.' },

            // Chapter 48 - Events: fields (8 questions)

            { id: '48-1', chapter: 48, q: 'Which event fires when an input field loses focus?', choices: ['onblur', 'onchange', 'onfocus', 'oninput'], answer: 0, hint: 'Opposite of focus.', explain: 'blur fires when element loses focus; change fires when value changes and focus is lost.' },

            { id: '48-2', chapter: 48, q: 'Which event fires when a user clicks into an input field?', choices: ['onclick', 'onfocus', 'onselect', 'oninput'], answer: 1, hint: 'Gaining focus event.', explain: 'onFocus fires when the field receives focus (user clicks in or tabs to it).' },

            { id: '48-3', chapter: 48, q: 'In the book example, what happens when a field gets focus?', choices: ['Border changes', 'Field turns yellow', 'Text appears', 'Field enlarges'], answer: 1, hint: 'Background color changes.', explain: 'The example changes backgroundColor to yellow when field receives focus.' },

            { id: '48-4', chapter: 48, q: 'How do you change field background on focus using inline events?', choices: ['onFocus="background=\'yellow\'"', 'onFocus="this.background=\'yellow\'"', 'onFocus="this.style.backgroundColor=\'yellow\'"', 'onFocus="style=\'yellow\'"'], answer: 2, hint: 'Use this.style.backgroundColor.', explain: 'this.style.backgroundColor accesses the CSS background-color property.' },

            { id: '48-5', chapter: 48, q: 'What should happen when a field loses focus (onBlur)?', choices: ['Nothing', 'Field should revert to original state', 'Field should be deleted', 'Field should expand'], answer: 1, hint: 'Restore original appearance.', explain: 'onBlur typically reverts changes made by onFocus (e.g., back to white background).' },

            { id: '48-6', chapter: 48, q: 'Can you use both onFocus and onBlur on the same field?', choices: ['No, choose one', 'Yes, they work together', 'Only in forms', 'Only with validation'], answer: 1, hint: 'Complementary events.', explain: 'onFocus and onBlur are commonly paired to create interactive field behaviors.' },

            { id: '48-7', chapter: 48, q: 'Which is better: inline field events or calling functions?', choices: ['Always inline', 'Calling functions is better', 'They are equal', 'Depends on browser'], answer: 1, hint: 'Functions are more maintainable.', explain: 'Calling functions from event handlers is more professional and maintainable.' },

            { id: '48-8', chapter: 48, q: 'What CSS property name in JavaScript corresponds to background-color?', choices: ['background-color', 'backgroundColor', 'bgColor', 'backgroundcolor'], answer: 1, hint: 'camelCase conversion.', explain: 'CSS properties with hyphens become camelCase in JavaScript: backgroundColor.' },

            // Chapter 49 - Reading field values (10 questions)

            { id: '49-1', chapter: 49, q: 'How do you read the value of an input with id="email"?', choices: ['document.getElementById("email").value', 'document.value("email")', 'getValue("email")', 'document.getElementsByName("email")[0].text'], answer: 0, hint: 'Standard DOM property.', explain: '.value on the input element returns its current value.' },

            { id: '49-2', chapter: 49, q: 'What does document.getElementById return?', choices: ['An array of elements', 'A single element or null', 'Always a string', 'An HTMLCollection'], answer: 1, hint: 'Single element by ID.', explain: 'getElementById returns one element (IDs are unique) or null if not found.' },

            { id: '49-3', chapter: 49, q: 'In form validation, when should you check if a field is empty?', choices: ['When page loads', 'When form is submitted', 'Every second', 'Never'], answer: 1, hint: 'Check before processing.', explain: 'Check field values when the form is submitted (onSubmit event).' },

            { id: '49-4', chapter: 49, q: 'How do you check if an email field is empty?', choices: ['if(field === "")', 'if(field.value === "")', 'if(field.value.length === 0)', 'Both B and C'], answer: 3, hint: 'Two ways to check.', explain: 'Both checking === "" and .length === 0 work to detect empty fields.' },

            { id: '49-5', chapter: 49, q: 'What should you do if a required field is empty?', choices: ['Submit anyway', 'Display alert and prevent submit', 'Delete the field', 'Refresh the page'], answer: 1, hint: 'Inform user and stop submission.', explain: 'Alert the user about the problem and return false to prevent form submission.' },

            { id: '49-6', chapter: 49, q: 'How do you prevent form submission in an onSubmit handler?', choices: ['return true', 'return false', 'preventDefault()', 'stopSubmit()'], answer: 1, hint: 'Return boolean value.', explain: 'Return false from the onSubmit handler to prevent form submission.' },

            { id: '49-7', chapter: 49, q: 'Where should the "return" keyword appear in onSubmit?', choices: ['In the function only', 'In the HTML only', 'In both HTML and function', 'Nowhere'], answer: 2, hint: 'Both places need it.', explain: 'Use return in HTML: onSubmit="return checkFunction()" and return false in function.' },

            { id: '49-8', chapter: 49, q: 'What is the sequence for reading a field value?', choices: ['getElementById, then value', 'value, then getElementById', 'getElementsByName first', 'querySelector only'], answer: 0, hint: 'Get element first, then property.', explain: 'First get the element with getElementById, then access its .value property.' },

            { id: '49-9', chapter: 49, q: 'Can you pass a field ID to a validation function as a parameter?', choices: ['No, must hard-code', 'Yes, makes function reusable', 'Only in modern browsers', 'Only for text fields'], answer: 1, hint: 'Generic functions are better.', explain: 'Passing the ID as a parameter makes the function reusable for multiple fields.' },

            { id: '49-10', chapter: 49, q: 'What does getElementById with strict camelCase mean?', choices: ['getElementByID is correct', 'getElementById is correct', 'Both work', 'Use lowercase only'], answer: 1, hint: 'Last two letters are lowercase.', explain: 'It must be getElementById with lowercase "d" - getElementByID will not work.' },

            // Chapter 50 - Setting field values (8 questions)

            { id: '50-1', chapter: 50, q: 'How do you set the value of an input field with id="name"?', choices: ['document.getElementById("name").value = "Saad";', 'document.setValue("name","Saad");', 'document.getElementById("name").innerHTML = "Saad";', 'setValue("name","Saad");'], answer: 0, hint: '.value is the field property.', explain: 'Set the .value property on the input element to change its value.' },

            { id: '50-2', chapter: 50, q: 'In the book example, what happens when user enters a ZIP code?', choices: ['Nothing', 'City field auto-fills', 'State field auto-fills', 'Both city and state fill'], answer: 1, hint: 'Automatic field population.', explain: 'When user enters ZIP, JavaScript fills in the city field automatically.' },

            { id: '50-3', chapter: 50, q: 'Which event is used to trigger city auto-fill when leaving ZIP field?', choices: ['onChange', 'onBlur', 'onFocus', 'onSubmit'], answer: 1, hint: 'When user clicks out of field.', explain: 'onBlur fires when user clicks out of the ZIP field, triggering the city lookup.' },

            { id: '50-4', chapter: 50, q: 'How does the book example match ZIP codes to cities?', choices: ['Database lookup', 'API call', 'switch statement', 'if statements'], answer: 2, hint: 'Control structure for matching.', explain: 'A switch statement matches ZIP codes to corresponding city names.' },

            { id: '50-5', chapter: 50, q: 'Can you set values for multiple fields from one function?', choices: ['No, only one field', 'Yes, call getElementById multiple times', 'Only with arrays', 'Only related fields'], answer: 1, hint: 'Multiple DOM operations allowed.', explain: 'You can set multiple field values by calling getElementById for each field.' },

            { id: '50-6', chapter: 50, q: 'What is the difference between reading and setting field values?', choices: ['Different methods entirely', 'Same property (.value), different usage', 'Reading uses .text', 'Setting uses innerHTML'], answer: 1, hint: 'Same property, different operations.', explain: 'Both use .value property: read with = someVar, set with .value = "text".' },

            { id: '50-7', chapter: 50, q: 'Can you set a field value to an empty string?', choices: ['No, invalid', 'Yes, clears the field', 'Only for text fields', 'Causes error'], answer: 1, hint: 'Valid operation.', explain: 'Setting .value = "" clears the field, which is useful for reset functionality.' },

            { id: '50-8', chapter: 50, q: 'Do you need to declare variables before setting field values?', choices: ['Always required', 'Not for direct assignments', 'Only in strict mode', 'Only for numbers'], answer: 1, hint: 'Direct property assignment.', explain: 'You can directly assign: document.getElementById("id").value = "text" without variables.' },

            // Chapter 51 - Reading and setting paragraph text (10 questions)

            { id: '51-1', chapter: 51, q: 'How do you get the HTML content of an element?', choices: ['element.innerHTML', 'element.content', 'element.html', 'element.text'], answer: 0, hint: 'Standard property name.', explain: 'innerHTML returns the HTML content inside an element.' },

            { id: '51-2', chapter: 51, q: 'What property do you use to change paragraph text?', choices: ['innerText', 'innerHTML', 'textContent', 'All of the above'], answer: 3, hint: 'Multiple properties work.', explain: 'innerHTML, innerText, and textContent can all change paragraph content.' },

            { id: '51-3', chapter: 51, q: 'In the slow loris example, what happens when the user clicks?', choices: ['Image changes', 'Paragraph expands with more text', 'Link opens', 'Nothing'], answer: 1, hint: 'Content expansion.', explain: 'The paragraph expands from short text to a longer, detailed description.' },

            { id: '51-4', chapter: 51, q: 'How do you identify which paragraph to modify?', choices: ['By tag name', 'By id attribute', 'By class name', 'By position'], answer: 1, hint: 'Unique identifier.', explain: 'Give the paragraph an id, then use getElementById to target it.' },

            { id: '51-5', chapter: 51, q: 'Can innerHTML include HTML tags?', choices: ['No, only plain text', 'Yes, full HTML allowed', 'Only simple tags', 'Only in modern browsers'], answer: 1, hint: 'HTML stands for HyperText Markup.', explain: 'innerHTML can include any HTML tags: <em>, <strong>, <a>, etc.' },

            { id: '51-6', chapter: 51, q: 'What happens if you set innerHTML with HTML tags?', choices: ['Tags display as text', 'Tags are rendered as HTML', 'Error occurs', 'Tags are removed'], answer: 1, hint: 'Browser interprets markup.', explain: 'The browser parses and renders the HTML tags properly.' },

            { id: '51-7', chapter: 51, q: 'Can you insert a list using innerHTML?', choices: ['No, only text', 'Yes, with <ol> or <ul> tags', 'Only unordered lists', 'Only in divs'], answer: 1, hint: 'Any HTML elements work.', explain: 'You can insert complete lists with <ol><li>...</li></ol> using innerHTML.' },

            { id: '51-8', chapter: 51, q: 'What is the difference between innerHTML and innerText?', choices: ['No difference', 'innerHTML includes HTML, innerText is plain text only', 'innerText is faster', 'innerHTML is deprecated'], answer: 1, hint: 'HTML vs plain text.', explain: 'innerHTML returns/sets HTML markup; innerText returns/sets only visible text.' },

            { id: '51-9', chapter: 51, q: 'Can you read innerHTML to see what is currently in an element?', choices: ['No, only for writing', 'Yes, returns current HTML content', 'Only if not modified', 'Only on page load'], answer: 1, hint: 'Read and write property.', explain: 'innerHTML can read current content: var content = element.innerHTML;' },

            { id: '51-10', chapter: 51, q: 'Does innerHTML work on divs and other containers?', choices: ['No, only paragraphs', 'Yes, works on any HTML element', 'Only block elements', 'Only with IDs'], answer: 1, hint: 'Universal property.', explain: 'innerHTML works on any element: div, span, section, article, etc.' },

            // Chapter 52 - Manipulating images and text (12 questions)

            { id: '52-1', chapter: 52, q: 'How do you make an image disappear when clicked?', choices: ['delete image', 'display:none style', 'visibility:hidden', 'Both B and C'], answer: 3, hint: 'CSS display or visibility.', explain: 'Both display:none and visibility:hidden can hide elements.' },

            { id: '52-2', chapter: 52, q: 'What CSS class did the book use to make elements invisible?', choices: ['.invisible', '.hidden', '.none', '.hide'], answer: 1, hint: 'Class name from example.', explain: 'The example uses .hidden class with display:none.' },

            { id: '52-3', chapter: 52, q: 'How do you assign a CSS class to an element using JavaScript?', choices: ['element.class = "hidden"', 'element.className = "hidden"', 'element.addClass("hidden")', 'element.setClass("hidden")'], answer: 1, hint: 'Use className property.', explain: 'element.className = "hidden" assigns the class to the element.' },

            { id: '52-4', chapter: 52, q: 'What happens when you assign a new className to an element?', choices: ['Adds to existing classes', 'Replaces all existing classes', 'Does nothing', 'Causes error'], answer: 1, hint: 'Complete replacement.', explain: 'Assigning className replaces all existing classes; use += to add classes.' },

            { id: '52-5', chapter: 52, q: 'How do you add a class without removing existing classes?', choices: ['element.className = "new"', 'element.className += " new"', 'element.addClass("new")', 'Cannot be done'], answer: 1, hint: 'Use += with space.', explain: 'element.className += " new" adds class while preserving existing ones (note the space).' },

            { id: '52-6', chapter: 52, q: 'Why must you include a space when adding a class with +=?', choices: ['For readability', 'To separate class names', 'Not necessary', 'Only in strict mode'], answer: 1, hint: 'Class names need separation.', explain: 'Space separates multiple class names: "class1 class2" not "class1class2".' },

            { id: '52-7', chapter: 52, q: 'What is the difference between display:none and visibility:hidden?', choices: ['No difference', 'display removes from layout, visibility keeps space', 'visibility is faster', 'display is deprecated'], answer: 1, hint: 'Layout flow difference.', explain: 'display:none removes element from flow; visibility:hidden hides but keeps space.' },

            { id: '52-8', chapter: 52, q: 'Can you change an image source using className?', choices: ['Yes, directly', 'No, use .src property', 'Only with CSS', 'Only in modern browsers'], answer: 1, hint: 'Different property needed.', explain: 'Use .src property to change images; className is for CSS classes only.' },

            { id: '52-9', chapter: 52, q: 'In the blobfish example, what happens on click?', choices: ['Image enlarges', 'Image disappears (hidden class)', 'Image rotates', 'Image links somewhere'], answer: 1, hint: 'Visibility change.', explain: 'The image gets the "hidden" class applied, making it disappear.' },

            { id: '52-10', chapter: 52, q: 'Is className the same as class in HTML?', choices: ['Yes, exactly the same', 'No, className in JS, class in HTML', 'className is deprecated', 'Only in old browsers'], answer: 1, hint: 'Different contexts.', explain: 'In HTML use class=""; in JavaScript use .className because class is reserved.' },

            { id: '52-11', chapter: 52, q: 'Can you remove all classes from an element?', choices: ['No, not possible', 'Yes, element.className = ""', 'Only with removeAll()', 'Only one at a time'], answer: 1, hint: 'Empty string works.', explain: 'Setting element.className = "" removes all classes.' },

            { id: '52-12', chapter: 52, q: 'What must an element have for getElementById to work?', choices: ['A class', 'An id attribute', 'A name', 'A style'], answer: 1, hint: 'Unique identifier required.', explain: 'The element must have an id attribute: <img id="myImg">.' },

            // Chapter 53 - Swapping images (8 questions)

            { id: '53-1', chapter: 53, q: 'What property do you change to swap an image?', choices: ['.image', '.src', '.source', '.file'], answer: 1, hint: 'Source property.', explain: 'Change the .src property to swap an image: element.src = "new.jpg".' },
            { id: '53-2', chapter: 53, q: 'How can you make an image swap function reusable?', choices: ['Hard-code image names', 'Pass id and new image as parameters', 'Use global variables', 'Cannot be done'], answer: 1, hint: 'Use function parameters.', explain: 'Pass both element id and new image filename as parameters for reusability.' },
            { id: '53-3', chapter: 53, q: 'In the book example, when does image swapping occur?', choices: ['On click', 'On mouseover', 'On page load', 'On scroll'], answer: 1, hint: 'Mouse event.', explain: 'The example uses onMouseover to trigger the image swap.' },
            { id: '53-4', chapter: 53, q: 'What should you pass to a generic swapPic function?', choices: ['Just the new image name', 'Just the element id', 'Both id and new image name', 'Nothing'], answer: 2, hint: 'Two parameters needed.', explain: 'Pass both the element id and new image filename for flexibility.' },
            { id: '53-5', chapter: 53, q: 'How do you identify which image to swap?', choices: ['By tag name', 'By id attribute', 'By file extension', 'By alt text'], answer: 1, hint: 'Unique identifier.', explain: 'Give the image an id attribute and use getElementById.' },
            { id: '53-6', chapter: 53, q: 'Can you swap back to the original image?', choices: ['No, one way only', 'Yes, by changing src again', 'Only by reloading page', 'Requires special function'], answer: 1, hint: 'Just change src again.', explain: 'Change .src back to original filename on mouseout or other event.' },
            { id: '53-7', chapter: 53, q: 'What event pairs well with mouseover for image swapping?', choices: ['mousedown', 'mouseout', 'click', 'focus'], answer: 1, hint: 'Opposite of mouseover.', explain: 'mouseout restores original image when mouse leaves the element.' },
            { id: '53-8', chapter: 53, q: 'Does the swapped image need to be pre-loaded?', choices: ['Yes, always', 'No, but may cause delay', 'Only large images', 'Only in old browsers'], answer: 1, hint: 'Loading happens on demand.', explain: 'Images load when src changes; pre-loading prevents visible delay.' },

            // Chapter 54 - Swapping images and setting classes (8 questions)

            { id: '54-1', chapter: 54, q: 'What is the verbose approach for DOM operations?', choices: ['One long line', 'Assign element to variable first', 'Use jQuery', 'Use inline code'], answer: 1, hint: 'Store element reference.', explain: 'Assign document.getElementById() to variable, then use variable for operations.' },
            { id: '54-2', chapter: 54, q: 'Why use a variable to store an element reference?', choices: ['Required by JavaScript', 'Makes code more readable and efficient', 'Only works this way', 'For older browsers'], answer: 1, hint: 'Find it your self', explain: 'Hope you find out by youself' },
            { id: '54-1', chapter: 54, q: 'Which method changes the image displayed in an <img> tag?', choices: ['.src', '.href', '.innerHTML', '.className'], answer: 0, hint: 'Used for image source.', explain: 'The src property sets or gets the image source URL.' },
            { id: '54-2', chapter: 54, q: 'To make a function swap any image, which arguments should it accept?', choices: ['Image id and new src', 'Old and new src', 'Only new src', 'Image tag'], answer: 0, hint: 'Identify which image and what to replace.', explain: 'Passing both id and new image URL makes the function reusable.' },
            { id: '54-3', chapter: 54, q: 'How can you find out a linkâ€™s address (URL) in JavaScript?', choices: ['element.href', 'element.src', 'element.innerHTML', 'element.link'], answer: 0, hint: 'Used for anchors.', explain: 'The href property gives the linkâ€™s destination address.' },
            { id: '54-4', chapter: 54, q: 'Which property changes the CSS class of an element?', choices: ['element.class', 'element.className', 'element.id', 'element.style'], answer: 1, hint: 'CamelCase property.', explain: 'Use className to set or replace an elementâ€™s class.' },
            { id: '54-5', chapter: 54, q: 'To enlarge a form by assigning a class â€œjumboâ€, whatâ€™s correct?', choices: ['frm.className = "jumbo"', 'frm.addClass("jumbo")', 'frm.setClass("jumbo")', 'frm.style = "jumbo"'], answer: 0, hint: 'Direct assignment.', explain: 'Setting className replaces the elementâ€™s current class.' },
            { id: '54-6', chapter: 54, q: 'Whatâ€™s the more â€œverboseâ€ way to access an element?', choices: ['Store element in variable first', 'Call getElementById twice', 'Use querySelector', 'Loop elements'], answer: 0, hint: 'Involves two-step variable use.', explain: 'Assigning element to variable improves clarity and reuse.' },
            { id: '54-7', chapter: 54, q: 'Which method removes a specific CSS class from an element?', choices: ['element.classList.remove("className")', 'element.className = ""', 'removeClass("className")', 'element.style.removeClass()'], answer: 0, hint: 'Opposite of add.', explain: 'classList.remove() removes a specific class without affecting others.' },
            { id: '54-8', chapter: 54, q: 'What is a common event pair for swapping images on hover?', choices: ['onmouseover / onmouseout', 'onclick / onhover', 'onfocus / onblur', 'onscroll / onenter'], answer: 0, hint: 'Triggered when entering and leaving.', explain: 'onmouseover triggers when cursor enters, onmouseout when it leaves â€” ideal for image swapping.' },


            // Chapter 55 â€“ Setting Styles (6 MCQs)

            { id: '55-1', chapter: 55, q: 'Which property allows you to set inline CSS styles?', choices: ['.className', '.style', '.css', '.property'], answer: 1, hint: 'Directly modifies inline styles.', explain: 'The style object represents inline CSS styles of an element.' },
            { id: '55-2', chapter: 55, q: 'Whatâ€™s the correct syntax to double text size of element with id "p1"?', choices: ['document.getElementById("p1").style.fontSize = "2em";', 'setStyle("p1","fontSize","2em")', 'p1.style.fontSize(2em)', 'font.size = "2em"'], answer: 0, hint: 'Direct property access.', explain: 'Use the style property and camelCase CSS property names.' },
            { id: '55-3', chapter: 55, q: 'Which property hides an element?', choices: ['element.style.display = "none"', 'element.visibility = "none"', 'hide(element)', 'element.visible = false'], answer: 0, hint: 'CSS-based hiding.', explain: 'Setting display to none hides an element from view.' },
            { id: '55-4', chapter: 55, q: 'Which property floats an element to the left?', choices: ['style.float', 'style.cssFloat', 'style.align', 'style.left'], answer: 1, hint: 'Cross-browser safe property.', explain: 'cssFloat is the proper JavaScript name for the CSS float property.' },
            { id: '55-5', chapter: 55, q: 'What does document.getComputedStyle(element).margin return?', choices: ['Inline margins only', 'CSS + inline margins', 'Only top margin', 'Number of margins'], answer: 1, hint: 'Combines both sources.', explain: 'getComputedStyle returns all applied styles including CSS rules.' },
            { id: '55-6', chapter: 55, q: 'Which syntax correctly sets margins on both sides of an element?', choices: ['style.margin = "0 10px 0 10px"', 'margin(10)', 'element.margin.left = 10', 'setMargin("10px")'], answer: 0, hint: 'Full CSS shorthand.', explain: 'The margin property accepts up to four space-separated values.' },
            { id: '55-7', chapter: 55, q: 'Which JavaScript property changes text color of an element?', choices: ['element.style.color = "blue"', 'element.textColor = "blue"', 'setColor("blue")', 'style.fontColor("blue")'], answer: 0, hint: 'Direct style property.', explain: 'Use the style.color property to set inline text color.' },
            { id: '55-8', chapter: 55, q: 'Which statement about .style vs CSS rules is true?', choices: ['.style overrides CSS file rules', 'CSS file rules override .style', 'They are equal in priority', '.style only works for <head>'], answer: 0, hint: 'Inline wins.', explain: 'Inline styles (set via .style) override external or internal CSS rules.' },


            // Chapter 56 â€“ Target All Elements by Tag Name (5 MCQs)

            { id: '56-1', chapter: 56, q: 'Which method targets all elements with a certain tag?', choices: ['document.getElementsByTagName()', 'document.getElementById()', 'document.querySelector()', 'document.allTags()'], answer: 0, hint: 'Plural form.', explain: 'getElementsByTagName returns all elements of the specified tag.' },
            { id: '56-2', chapter: 56, q: 'What does document.getElementsByTagName("p") return?', choices: ['Array', 'HTMLCollection', 'NodeList', 'Object'], answer: 1, hint: 'Live collection.', explain: 'It returns a live HTMLCollection that updates when DOM changes.' },
            { id: '56-3', chapter: 56, q: 'How to access the 2nd paragraph from collection par?', choices: ['par[1]', 'par[2]', 'par(1)', 'par.item(2)'], answer: 0, hint: 'Zero-based index.', explain: 'JavaScript collections are zero-indexed, so second element is par[1].' },
            { id: '56-4', chapter: 56, q: 'What property returns the number of items in a collection?', choices: ['.size', '.length', '.count', '.total'], answer: 1, hint: 'Same as arrays.', explain: 'Use length to get the number of elements in the HTMLCollection.' },
            { id: '56-5', chapter: 56, q: 'To change the font of all paragraphs, you can loop through:', choices: ['for (var i = 0; i < par.length; i++)', 'forEach(paragraphs)', 'loop(par)', 'map(par)'], answer: 0, hint: 'Classic for loop.', explain: 'Use a for loop to iterate through a collection of elements.' },

            // Chapter 57 â€“ Target Some Elements by Tag Name (5 MCQs)

            { id: '57-1', chapter: 57, q: 'How to target all <p> elements inside a div with id "rules"?', choices: ['document.getElementById("rules").getElementsByTagName("p")', 'document.getElementsByTagName("rules").p', 'document.querySelector("rules p")', 'getElementsById("rules").p'], answer: 0, hint: 'Chain method calls.', explain: 'Call getElementsByTagName on the parent element.' },
            { id: '57-2', chapter: 57, q: 'What type of object does getElementsByTagName return?', choices: ['HTMLCollection', 'Array', 'Object', 'String'], answer: 0, hint: 'Not array but similar.', explain: 'It returns an array-like HTMLCollection object.' },
            { id: '57-3', chapter: 57, q: 'How can you change color of all table cells inside a table?', choices: ['Loop through t.getElementsByTagName("td")', 't.cells.style.color="pink"', 'table.rows.color()', 'table.cells()'], answer: 0, hint: 'Use loop.', explain: 'Use a for loop to iterate through td elements and set backgroundColor.' },
            { id: '57-4', chapter: 57, q: 'What does cells.length give?', choices: ['Table width', 'Number of td elements', 'HTML length', 'Rows count'], answer: 1, hint: 'Collection count.', explain: 'The length property returns the number of elements in the collection.' },
            { id: '57-5', chapter: 57, q: 'Why is targeting by parent more efficient?', choices: ['Limits DOM scope', 'Runs faster always', 'It changes style automatically', 'It avoids CSS'], answer: 0, hint: 'Scope control.', explain: 'Limiting to a parent element avoids scanning entire document.' },

            // Chapter 58 â€“ The DOM (4 MCQs)

            { id: '58-1', chapter: 58, q: 'What is the DOM?', choices: ['Data Object Model', 'Document Object Model', 'Dynamic Object Map', 'Document Order Matrix'], answer: 1, hint: 'Browserâ€™s page structure.', explain: 'The Document Object Model represents the structure of a web page as nodes.' },
            { id: '58-2', chapter: 58, q: 'Which is the top-level node in the DOM?', choices: ['html', 'head', 'body', 'document'], answer: 3, hint: 'Root object.', explain: 'document is the root node that represents the whole web page.' },
            { id: '58-3', chapter: 58, q: 'What type of node is <p> or <div>?', choices: ['Element node', 'Text node', 'Document node', 'Style node'], answer: 0, hint: 'Represents HTML tags.', explain: 'HTML tags like <p> and <div> are element nodes.' },
            { id: '58-4', chapter: 58, q: 'Which method builds the DOM automatically?', choices: ['The browser', 'JavaScript compiler', 'HTML parser', 'CSS renderer'], answer: 0, hint: 'Happens when page loads.', explain: 'The browser automatically builds the DOM when loading a web page.' },

            // Chapter 59 â€“ The DOM: Parents and Children (5 MCQs)

            { id: '59-1', chapter: 59, q: 'What do we call nodes directly inside another node?', choices: ['Parents', 'Children', 'Siblings', 'Ancestors'], answer: 1, hint: 'Immediate inside nodes.', explain: 'Directly enclosed nodes are called children.' },
            { id: '59-2', chapter: 59, q: `What is the parent of <div> in <body><div></div><body>?`, choices: ['html', 'body', 'document', 'p'], answer: 1, hint: 'Immediate container.', explain: 'The <div> is directly inside <body>, so <body> is its parent.' },
            { id: '59-3', chapter: 59, q: 'What are <head> and <body> to each other?', choices: ['Siblings', 'Children', 'Parents', 'Ancestors'], answer: 0, hint: 'Same parent.', explain: 'They are both children of <html>, so theyâ€™re siblings.' },
            { id: '59-4', chapter: 59, q: 'Which node is the parent of <html>?', choices: ['document', 'head', 'body', 'root'], answer: 0, hint: 'Top of hierarchy.', explain: 'document is the parent of <html>.' },
            { id: '59-5', chapter: 59, q: 'If a <p> contains <em>Important</em>, who is parent of text node â€œImportantâ€?', choices: ['p', 'em', 'body', 'html'], answer: 1, hint: 'Directly enclosing element.', explain: 'The <em> element encloses the text, making it the parent of the text node.' },
            { id: '59-6', chapter: 59, q: 'Which property gives the immediate parent of a node?', choices: ['node.parentNode', 'node.parent', 'node.parentElement()', 'node.owner'], answer: 0, hint: 'Ends with â€œNodeâ€.', explain: 'parentNode returns the parent element in the DOM hierarchy.' },
            { id: '59-7', chapter: 59, q: 'What does element.nextSibling return?', choices: ['The next node at the same level', 'The child node', 'The parent node', 'The last node in DOM'], answer: 0, hint: 'Think of siblings.', explain: 'nextSibling refers to the next node in the same parentâ€™s child list.' },
            { id: '59-8', chapter: 59, q: 'Which property accesses the very first child of a parent node?', choices: ['element.firstChild', 'element.first()', 'element.getFirst()', 'element.childNodes[1]'], answer: 0, hint: 'Direct built-in.', explain: 'firstChild returns the first node within the elementâ€™s childNodes list.' },


            // Chapter 60 â€“ The DOM: Finding Children (4 MCQs)

            { id: '60-1', chapter: 60, q: 'Which property returns a collection of an elements children?', choices: ['.childNodes', '.children', '.nodes', '.innerHTML'], answer: 0, hint: 'Includes text nodes too.', explain: 'childNodes gives all direct child nodes including text nodes.' },
            { id: '60-2', chapter: 60, q: 'What is the index of the first child in childNodes?', choices: ['1', '0', '2', 'None'], answer: 1, hint: 'Array-like structure.', explain: 'childNodes uses zero-based indexing like arrays.' },
            { id: '60-3', chapter: 60, q: 'How to get the innerHTML of the 2nd <p> inside a div with id "ny"?', choices: ['document.getElementById("ny").childNodes[1].innerHTML', 'ny.children[2]', 'getChild("ny",1)', 'document.childNodes[1].innerHTML'], answer: 0, hint: 'Follow hierarchy.', explain: 'Target the div, then its childNodes array to reach the paragraph.' },
            { id: '60-4', chapter: 60, q: 'What does childNodes.length return?', choices: ['Number of child nodes', 'Tag count', 'Node depth', 'Number of parents'], answer: 0, hint: 'Count property.', explain: 'childNodes.length counts how many nodes are directly inside the element.' },

            // Chapter 45-60 questions (adding more for completeness)
            { id: '45-1', chapter: 45, q: 'Which event fires when a link is clicked?', choices: ['onhover', 'onsubmit', 'onclick', 'onchange'], answer: 2, hint: 'Basic DOM mouse event.', explain: 'The click event fires when a user activates a link.' },
            { id: '46-1', chapter: 46, q: 'Which event is commonly used to respond to a button press?', choices: ['onscroll', 'onclick', 'oninput', 'onhover'], answer: 1, hint: 'Same as links for clicks.', explain: 'Buttons respond to click events.' },
            { id: '47-1', chapter: 47, q: 'Which event triggers when the mouse pointer moves over an element?', choices: ['mousemove', 'mouseover', 'mousedrag', 'mousehold'], answer: 1, hint: 'Entering event.', explain: 'mouseover fires when entering an element.' },
            { id: '48-1', chapter: 48, q: 'Which event fires when an input field loses focus?', choices: ['onblur', 'onchange', 'onfocus', 'oninput'], answer: 0, hint: 'Opposite of focus.', explain: 'blur fires when element loses focus.' },
            { id: '49-1', chapter: 49, q: 'How do you read the value of an input element?', choices: ['document.getElementById("email").value', 'document.value("email")', 'getValue("email")', 'document.getElementsByName("email")[0].text'], answer: 0, hint: 'Standard DOM property.', explain: '.value on the input element returns its value.' },
            { id: '50-1', chapter: 50, q: 'How do you set the value of an input field?', choices: ['document.getElementById("name").value = "Saad";', 'document.setValue("name","Saad");', 'document.getElementById("name").innerHTML = "Saad";', 'setValue("name","Saad");'], answer: 0, hint: '.value is the field property.', explain: 'Set the .value property on the input element.' },
            { id: '51-1', chapter: 51, q: 'How do you get the HTML content of an element?', choices: ['element.innerHTML', 'element.content', 'element.html', 'element.text'], answer: 0, hint: 'Standard property name.', explain: 'innerHTML returns HTML content of an element.' },
            { id: '52-1', chapter: 52, q: 'To change an image source, use:', choices: ['document.getElementById("i1").src = "new.jpg"', '.setSource()', '.changeSrc()', 'img.src("new.jpg")'], answer: 0, hint: 'Standard DOM property.', explain: '.src sets the image URL.' },
            { id: '53-1', chapter: 53, q: 'Which events swap images on hover?', choices: ['mouseover / mouseout', 'mousedown / mouseup', 'onload / onunload', 'mouseenter / leave'], answer: 0, hint: 'Enter and exit events.', explain: 'mouseover/mouseout are commonly used for image swaps.' },
            { id: '54-1', chapter: 54, q: 'Which method adds a class without overwriting existing ones?', choices: ['el.className = "new"', 'el.setClass("new")', 'el.classList.add("new")', 'addClass(el,"new")'], answer: 2, hint: 'Modern DOM API.', explain: 'classList.add preserves existing classes.' },
            { id: '55-1', chapter: 55, q: 'Which property changes inline style?', choices: ['element.style.backgroundColor = "red"', 'element.css("background-color","red")', 'element.setStyle("background","red")', 'element.style("backgroundColor","red")'], answer: 0, hint: 'Use camelCase.', explain: 'Use element.style.property for inline styles.' },
            { id: '56-1', chapter: 56, q: 'What does document.getElementsByTagName return?', choices: ['An array', 'A live HTMLCollection', 'A NodeList snapshot', 'Always null'], answer: 1, hint: 'It updates automatically.', explain: 'It returns a live HTMLCollection.' },
            { id: '57-1', chapter: 57, q: 'How to narrow tag selection to a parent?', choices: ['document.querySelectorAll', 'parent.getElementsByTagName("p")', 'document.getElementsByTagName', 'You cannot'], answer: 1, hint: 'Call on parent node.', explain: 'parent.getElementsByTagName returns descendants of that parent.' },
            { id: '58-1', chapter: 58, q: 'Which node is at the top of the DOM?', choices: ['html', 'body', 'document', 'head'], answer: 2, hint: 'The API root object.', explain: 'document is the top-level DOM object.' },
            { id: '59-1', chapter: 59, q: 'What are nodes directly inside a parent called?', choices: ['parents', 'children', 'siblings', 'ancestors'], answer: 1, hint: 'Immediate nested nodes.', explain: 'Nodes directly enclosed are children.' },
            { id: '60-1', chapter: 60, q: 'What does childNodes.length return?', choices: ['Height of children', 'Number of child nodes', 'Last child index', 'Always 0'], answer: 1, hint: 'Standard collection property.', explain: 'childNodes.length returns the count of child nodes.' }
        ];

        const chapterSelect = document.getElementById('chapterSelect');
        for (let c = 40; c <= 60; c++) {
            const opt = document.createElement('option');
            opt.value = c;
            opt.textContent = `Chapter ${c}`;
            chapterSelect.appendChild(opt);
        }

        const elems = {
            chapterSelect,
            modeSelect: document.getElementById('modeSelect'),
            startBtn: document.getElementById('startBtn'),
            themeToggle: document.getElementById('themeToggle'),
            landing: document.getElementById('landing'),
            questionArea: document.getElementById('questionArea'),
            qText: document.getElementById('qText'),
            choices: document.getElementById('choices'),
            submitBtn: document.getElementById('submitBtn'),
            nextBtn: document.getElementById('nextBtn'),
            toggleHintBtn: document.getElementById('toggleHintBtn'),
            hintBox: document.getElementById('hintBox'),
            explainBox: document.getElementById('explainBox'),
            chapterLabel: document.getElementById('chapterLabel'),
            remaining: document.getElementById('remaining'),
            qIndex: document.getElementById('qIndex'),
            score: document.getElementById('score'),
            answered: document.getElementById('answered'),
            progInner: document.getElementById('progInner')
        };

        let state = { pool: [], index: 0, mode: 'sequential', score: 0, answered: 0, usedIds: new Set() };
        let selectedChoice = null;

        function shuffle(arr) {
            const a = arr.slice();
            for (let i = a.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }

        function buildPool(selectedChapter) {
            let pool;
            if (selectedChapter === 'all') {
                pool = allQuestions.slice();
            } else {
                pool = allQuestions.filter(q => q.chapter === Number(selectedChapter));
            }

            // Filter out already used questions
            pool = pool.filter(q => !state.usedIds.has(q.id));

            if (state.mode === 'random') pool = shuffle(pool);
            return pool;
        }

        function startQuiz() {
            state.mode = elems.modeSelect.value;
            const ch = elems.chapterSelect.value;
            state.usedIds.clear(); // Reset used questions for new quiz
            state.pool = buildPool(ch);
            state.index = 0;
            state.score = 0;
            state.answered = 0;

            elems.score.textContent = '0';
            elems.answered.textContent = '0';
            elems.chapterLabel.textContent = ch === 'all' ? 'All Chapters (40â€“60)' : `Chapter ${ch}`;
            elems.remaining.textContent = state.pool.length;
            elems.landing.style.display = 'none';
            elems.questionArea.style.display = state.pool.length ? 'block' : 'none';
            elems.qIndex.textContent = state.pool.length ? `1 / ${state.pool.length}` : '0 / 0';
            elems.progInner.style.width = '0%';
            selectedChoice = null;

            renderQuestion();
        }

        function renderQuestion() {
            if (state.index >= state.pool.length) return showResults();

            const q = state.pool[state.index];
            state.usedIds.add(q.id); // Mark as used

            elems.qText.textContent = `[Ch ${q.chapter}] ${q.q}`;
            elems.choices.innerHTML = '';

            q.choices.forEach((c, i) => {
                const btn = document.createElement('button');
                btn.className = 'choice';
                btn.type = 'button';
                btn.dataset.index = i;
                btn.innerHTML = `<strong>${'ABCD'[i]}.</strong>${c} `;
                btn.addEventListener('click', () => selectChoice(btn));
                elems.choices.appendChild(btn);
            });

            elems.hintBox.textContent = q.hint || '';
            elems.hintBox.style.display = 'none';
            elems.toggleHintBtn.textContent = 'Show hint';
            elems.explainBox.style.display = 'none';
            elems.submitBtn.disabled = false;
            elems.nextBtn.style.display = 'none';
            updateProgress();
        }

        function selectChoice(btn) {
            [...elems.choices.children].forEach(ch => ch.classList.remove('selected'));
            btn.classList.add('selected');
            selectedChoice = Number(btn.dataset.index);
        }

        elems.submitBtn.addEventListener('click', () => {
            if (selectedChoice === null) {
                alert('Select an answer first');
                return;
            }
            checkAnswer();
        });

        function checkAnswer() {
            const q = state.pool[state.index];
            const correct = q.answer;

            [...elems.choices.children].forEach(ch => {
                const idx = Number(ch.dataset.index);
                ch.classList.remove('selected');
                if (idx === correct) ch.classList.add('correct');
                if (idx === selectedChoice && idx !== correct) ch.classList.add('wrong');
                ch.disabled = true;
            });

            state.answered++;
            elems.answered.textContent = state.answered;

            if (selectedChoice === correct) {
                state.score++;
                elems.score.textContent = state.score;
            }

            elems.explainBox.style.display = 'block';
            elems.explainBox.textContent = `Explanation: ${q.explain || 'See chapter content.'} `;
            elems.submitBtn.disabled = true;
            elems.nextBtn.style.display = 'inline-block';
            elems.remaining.textContent = Math.max(0, state.pool.length - (state.index + 1));
        }

        elems.nextBtn.addEventListener('click', () => {
            state.index++;
            selectedChoice = null;
            if (state.index < state.pool.length) {
                elems.qIndex.textContent = `${state.index + 1} / ${state.pool.length}`;
                renderQuestion();
            } else {
                showResults();
            }
        });

        elems.toggleHintBtn.addEventListener('click', () => {
            if (elems.hintBox.style.display === 'none') {
                elems.hintBox.style.display = 'block';
                elems.toggleHintBtn.textContent = 'Hide hint';
            } else {
                elems.hintBox.style.display = 'none';
                elems.toggleHintBtn.textContent = 'Show hint';
            }
        });

        function updateProgress() {
            const total = state.pool.length || 1;
            const pos = Math.min(state.index, total - 1);
            const pct = Math.round((pos / total) * 100);
            elems.progInner.style.width = `${pct}%`;
            elems.qIndex.textContent = `${state.index + 1} / ${total}`;
            elems.remaining.textContent = Math.max(0, total - (state.index + 1));
        }

        function showResults() {
            elems.questionArea.style.display = 'none';
            elems.landing.style.display = 'block';
            const percentage = state.answered > 0 ? Math.round((state.score / state.answered) * 100) : 0;
            elems.landing.innerHTML = `
                <h3>Quiz Complete!</h3>
                <p class="small">You answered ${state.answered} questions correctly: ${state.score} (${percentage}%)</p>
                <p class="small">All questions shown were unique and will not repeat in this session.</p>
                <p class="small">To retry or start a new quiz, choose chapter and click Start / Reset.</p>
            `;
            elems.progInner.style.width = '100%';
        }

        const THEME_KEY = 'js_quiz_theme_pref';

        function applyTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            elems.themeToggle.textContent = theme === 'dark' ? 'ðŸŒ™' : 'â˜€ï¸';
        }

        function detectAndApplyInitialTheme() {
            const stored = localStorage.getItem(THEME_KEY);
            if (stored) {
                applyTheme(stored);
                return;
            }
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            applyTheme(prefersDark ? 'dark' : 'light');
        }

        elems.themeToggle.addEventListener('click', () => {
            const current = document.body.getAttribute('data-theme') || 'dark';
            const next = current === 'dark' ? 'light' : 'dark';
            applyTheme(next);
            localStorage.setItem(THEME_KEY, next);
        });

        elems.startBtn.addEventListener('click', startQuiz);

        document.addEventListener('DOMContentLoaded', () => {
            detectAndApplyInitialTheme();
            elems.chapterLabel.textContent = 'Ready â€” choose chapter';
            elems.remaining.textContent = '0';
            elems.qIndex.textContent = '0 / 0';
        });
    </script>
</body>

</html>
